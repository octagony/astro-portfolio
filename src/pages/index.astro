---
import BaseHead from '../components/BaseHead.astro'
import Header from '../components/Header.astro'
import Body from '../components/Body.astro'
import Footer from '../components/Footer.astro'
import { SITE_TITLE, SITE_DESCRIPTION, HOMEPAGE_URL } from '../config'
import ThemeToggle from '../components/ThemeToggleButton'
import MainContent from '../components/MainContent.astro'
import Project from '../components/Project.astro'
import {Image} from "@astrojs/image/components"

const projects = (await Astro.glob("./projects/*.md")).sort((a:any,b:any)=>
  new Date(b.frontmatter.createdAt).valueOf() - new Date(a.frontmatter.createdAt).valueOf()
)
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <Body>
    <Header title={SITE_TITLE} />
    <main class="pt-20 font-heebo">
      <MainContent>
        <section>
          <div class="flex justify-between items-center mb-10">
            <h1 class="text-5xl">Mikhail <br> Rutsky</h1>
            <p class=""> 
                Frontend-developer <br> {new Date().getFullYear() - 2000} years old, Minsk
            </p>
          </div>
          <a class='w-full text-center block indent-1 text-indigo-500 dark:text-pink-400 mb-8' href={HOMEPAGE_URL} >Learn More about me</a>            
        </section>
        <section>
          <section>
            <ul class="flex flex-col gap-5 md:gap-10">
              {projects.map(project => (
                <li class="text-center mb-4">
                  <Image src={project.frontmatter.heroImage} class='border border-slate-300 dark:border-neutral-700 rounded-xl' width={1440} aspectRatio={2.0} alt="project image"/>
                  <a href={project.url}>
                    <div class="mt-3 text-xl">
                      {project.frontmatter.title}
                    </div>
                    <div class="opacity-70">{project.frontmatter.description}</div>
                  </a>
                </li>
              ))}
            </ul>
          </section>
        </section>
      <MainContent/>
    </main>
    <Footer />
     <ThemeToggle client:load/>
  </Body>
</html>
